<html>
<script type="text/javascript" src="https://serratus.github.io/quaggaJS/examples/js/quagga.min.js"></script>
<body>
  <style>
    .viewport {
      height: 240px;
      width: 320px;
    }
    
    .viewport canvas, video {
      float: left;
      height: 240px;
      width: 320px;
    }
    
    .viewport canvas.drawingBuffer, video.drawingBuffer {
      margin-left: -320px;
    }
  </style>
  
  <div id="interactive" class="viewport">
  </div>

  <script src="./js/quaggaJS/dist/quagga.js"></script>
  <script>
    Quagga.init({
      inputStream: { type : 'LiveStream', constraints:{
                                          width: 640px,
                                          height: 480px
                                          } },
        decoder: {
          readers: [{
            format: 'code_39_reader',
            config: {}
          }]
        }
      }, (err) => {
        if(!err) {
          Quagga.start();
        }
      });
    
    Quagga.onDetected((result) => {
      var code = result.codeResult.code;
      // ここでコードを受け取って、何かしらの処理(例えば、楽天市場APIを使用して商品検索等)
      alert(code);
    });
  </script>
</body>
</html>
